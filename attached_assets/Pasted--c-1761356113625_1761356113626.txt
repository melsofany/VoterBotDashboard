حلو — لو هتعمل تطبيق يقرأ بيانات بطاقة الرقم القومي المصرية بالكاميرا وإنت بتحط البطاقة داخل إطار (capture frame)، المهم تحافظ على نسبة العرض/الارتفاع الصحيحة وتضمن دقة كافية للـ OCR. هنا كل اللي هتحتاجه بدقة وبأمثلة عملية — بالمصري ومباشر:

1) نسبة الأبعاد (المهم جداً)

البطاقة قياسها ISO/ID-1:
	•	85.60 × 53.98 مم
	•	النسبة (عرض/ارتفاع) ≈ 1.58577 (يعني العرض ≈ 1.586 × الارتفاع).
إطار الكاميرا لازم يحافظ على نفس النسبة (أو أقرب ما يمكن) عشان الـ crop ما يشوهش البطاقة.

2) أحجام بيكسل مُقترحة (دقة للطباعة/ـOCR)

لو عايز تحسب دقة مناسبة حسب DPI (عشان تعرف أقل حاجة لازمة للـ OCR):
	•	عند 150 DPI → تقريباً 506 × 319 بيكسل (عرض × ارتفاع).
	•	عند 200 DPI → تقريباً 674 × 425 بيكسل.
	•	عند 300 DPI (جودة ممتازة) → تقريباً 1011 × 638 بيكسل.

قاعدة عملية: اجعل عرض البطاقة عند القص النهائي لا يقل عن ~600px للحصول على OCR مقبول، ولو تقدر توصل لـ ~1000px هتضمن دقة أفضل خاصة للأرقام والنص العربي.

3) مقاسات الإطار كنسبة من شاشة الموبايل (تطبيق عملي)

الطريقة الأسهل: خلي الإطار بنسبة عرض من شاشة الجهاز مع الحفاظ على النسبة 1.586:
	•	اقترح عرض الإطار = 80% من عرض الشاشة (قيمة عملية ومريحة للمستخدم).
أمثلة:
	•	شاشة 1080 px عرض → الإطار ≈ 864 × 544 px.
	•	شاشة 720 px عرض → الإطار ≈ 576 × 363 px.
	•	شاشة 1440 px عرض → الإطار ≈ 1152 × 726 px.

لو الشاشة طولها أقل من عرضها (landscape) استخدم 70–85% من الارتفاع بدل العرض، بس دائمًا حافظ على النسبة.

4) مسافة/هوامش داخل الإطار (safety/margin)

خلي هامش داخلي ~5–10% من كل جانب داخل الإطار (يعني ما تلمس البطاقة حواف الإطار مباشرة) علشان لو الكاميرا موش ثابتة البطاقة تظل كاملة داخل الـ crop.

5) إرشادات عملية لتحسين المسح
	•	اطلب من المستخدم يثبت التليفون فوق البطاقة ويملأ الإطار تماماً (بدون قص الأطراف).
	•	استخدم فلاش/torch لو الإضاءة ضعيفة، وتجنّب اللمعان/glare (بوجه عام اضاءة موزعة).
	•	فعل autofocus ويفضل استخدام continuous autofocus على المنطقة.
	•	بعد الالتقاط: استخدم كشف الحواف + تصحيح منظور (perspective transform) لقص البطاقة بدقة قبل الـ OCR.
	•	لو البطاقة تحتوي MRZ (خط القراءة الآلي) اقرأها أولاً — أسهل وأدق.

6) متطلبات برمجية ونصائح OCR
	•	لازم تتأكد إن الصورة بعد القص تكون على الأقل عرض 600–1000 px كما قلنا.
	•	استخدم نماذج OCR مدربة على العربية (Tesseract مع traineddata عربي مخصص، أو مكتبات تجارية إن أمكن).
	•	طبق تحسينات قبل OCR: تحويل لـ grayscale، زيادة التباين، denoise، إنقاص التصحيح الهندسي.

⸻

لو عايز أديك كود CSS/HTML جاهز لإطار (overlay) مع حساب النسبة أو snippet جافاسكريبت يحسب ويعرض الإطار بحسب حجم الشاشة أرسِل لي وهاعمله لك فوراً — أو لو تحب أحسب لك أبعاد إطار معين بدقة لشاشة واحدة (قُللي عرض الشاشة بالبيكسل) وأنا أديك المقاس النهائي.